(this["webpackJsonpkeep-the-lights-on"]=this["webpackJsonpkeep-the-lights-on"]||[]).push([[0],{91:function(e,t,r){"use strict";r.r(t);var a,n=r(107),s=r(0),c=r.n(s),i=r(36),o=r.n(i),l=r(33),h=r(109),j=r(72),b=r(103),u=r(105),d=r(106),O=r(100),m=r(110),x=r(102),p=r(18),f=function(e){return p.a.fromMantissaExponent(e.man,e.exp)},w=function(e){var t=new p.a(e);return{man:t.mantissa,exp:t.exponent}},y=function(e,t){return w(p.a.add(f(e),f(t)))},P=function(e,t){return w(p.a.multiply(f(e),f(t)))},g=function(e,t){return w(p.a.divide(f(e),f(t)))},v=function(e,t){return w(p.a.min(f(e),f(t)))},C=function(e,t){return p.a.compare(f(e),f(t))},D=function(e){return f(e).toString()},G=r(48),k=r(17);!function(e){e.hamsters="hamsters",e.pinwheels="pinwheels",e.bicycle="bicycle"}(a||(a={}));var S={hamsters:{name:"Hamster",colorText:"Watch those little legs go!",baseCost:w(.25),costOfNthGenerator:function(e){return w(.25*e)}},pinwheels:{name:"Pinwheel",colorText:"One day you'll build a great wind farm.",baseCost:w(2),costOfNthGenerator:function(e){return w(2*e)}},bicycle:{name:"Human-powered Bicycle",colorText:"You can make it up the hill, just keep pedaling!",baseCost:w(20),costOfNthGenerator:function(e){return w(5*(e-1)+20)}}},A=Object.keys(a).sort((function(e,t){return C(S[e].baseCost,S[t].baseCost)})),z={hamsters:{numberOwned:0,wattsPerDay:w(.5),nextPurchaseCost:S.hamsters.baseCost},pinwheels:{numberOwned:0,wattsPerDay:w(2),nextPurchaseCost:S.pinwheels.baseCost},bicycle:{numberOwned:0,wattsPerDay:w(10),nextPurchaseCost:S.pinwheels.baseCost}},E=function(e,t){return-1!==C(e,t.nextPurchaseCost)},H={daysElapsed:w(0),ticksPerDay:8,cashAvailable:w(1),maxCashAvailable:w(0),cashEarnedPerDay:w(0),homesPowered:w(0),homesInPowerGrid:w(1),wattsUsedPerHomePerDay:w(20),pricePerWatt:w(.03),wattsGeneratedPerDay:w(0)},I=function(e,t){var r,a,n=function(e,t){var r=e.daysElapsed;return t%e.ticksPerDay===0?y(r,w(1)):r}(e,t),s=function(e){var t=e.ticksPerDay,r=e.cashAvailable,a=e.homesInPowerGrid,n=e.wattsUsedPerHomePerDay,s=e.pricePerWatt,c=e.wattsGeneratedPerDay,i=v(c,P(a,n)),o=P(i,s);return y(r,g(o,w(t)))}(e),c=(r=s,a=e.maxCashAvailable,w(p.a.max(f(r),f(a))));return Object(k.a)(Object(k.a)({},e),{},{daysElapsed:n,cashAvailable:s,maxCashAvailable:c})},W=function(e,t,r){var a,n,s=(a=e.cashAvailable,n=t,w(p.a.subtract(f(a),f(n)))),c=function(e){return Object.values(e).reduce((function(e,t){return y(e,P(w(t.numberOwned),t.wattsPerDay))}),w(0))}(r),i=v(c,P(e.homesInPowerGrid,e.wattsUsedPerHomePerDay)),o=P(i,e.pricePerWatt),l=v(e.homesInPowerGrid,g(c,e.wattsUsedPerHomePerDay));return Object(k.a)(Object(k.a)({},e),{},{cashAvailable:s,cashEarnedPerDay:o,homesPowered:l,wattsGeneratedPerDay:c})},T={currentStatistics:H,generators:z},U=Object(G.b)({name:"game",initialState:T,reducers:{tick:function(e,t){e.currentStatistics=I(e.currentStatistics,t.payload)},buyGenerator:function(e,t){var r=t.payload,a=e.currentStatistics,n=e.generators,s=a.cashAvailable,c=n[r];if(E(s,c)){var i=c.nextPurchaseCost;e.generators[r]=function(e,t){var r=t.numberOwned,a=S[e].costOfNthGenerator(r+2);return Object(k.a)(Object(k.a)({},t),{},{numberOwned:r+1,nextPurchaseCost:a})}(r,c),e.currentStatistics=W(a,i,n)}}}}),$=U.actions,B=$.tick,N=$.buyGenerator,L=function(e){return e.game.generators},M=function(e){return e.game.currentStatistics},F=function(e){return e.game.currentStatistics.cashAvailable},J=function(e){return e.game.currentStatistics.maxCashAvailable},K=(U.reducer,l.c),R=r(2),Y=function(e){var t=K(M),r=t.daysElapsed,a=t.cashAvailable,n=t.cashEarnedPerDay,s=t.homesPowered,c=t.homesInPowerGrid,i=t.wattsUsedPerHomePerDay,o=t.pricePerWatt,l=t.wattsGeneratedPerDay;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(O.a,{as:"h1",size:"md",pb:2,children:"Keep the Lights On"}),Object(R.jsxs)(m.b,{pt:4,align:"stretch",spacing:4,children:[Object(R.jsxs)(m.a,{children:[Object(R.jsx)(O.a,{as:"h2",size:"sm",pb:1,children:"Time Elapsed"}),Object(R.jsxs)(x.a,{children:[D(r)," days"]})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(O.a,{as:"h2",size:"sm",pb:1,children:"Power Generation"}),Object(R.jsxs)(x.a,{pb:1,children:[D(l)," watts per day"]}),Object(R.jsxs)(x.a,{fontSize:"sm",color:"gray.400",children:["$",D(o)," per watt"]})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(O.a,{as:"h2",size:"sm",pb:1,children:"Houses Illuminated"}),Object(R.jsxs)(x.a,{pb:1,children:[D(s)," / ",D(c)]}),Object(R.jsxs)(x.a,{fontSize:"sm",color:"gray.400",children:[D(i)," watts used per house per day"]})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(O.a,{as:"h2",size:"sm",pb:1,children:"Funds"}),Object(R.jsxs)(x.a,{pb:1,children:["$",D(a)]}),Object(R.jsxs)(x.a,{fontSize:"sm",color:"gray.400",children:["$",D(n)," per day"]})]})]})]})},q=r(108),Q=function(e){return Object(R.jsx)(b.a,{children:"Track your progress here"})},V=r(76),X=function(e){var t=Object(l.b)(),r=K(F),a=K(J),n=K(L);return Object(R.jsx)(m.b,{align:"stretch",spacing:4,children:A.map((function(e){var s=n[e],c=S[e];return-1===C(a,P(w(.75),c.baseCost))?null:Object(R.jsxs)(m.a,{children:[Object(R.jsxs)(O.a,{as:"h2",size:"sm",pb:1,children:[c.name," x ",s.numberOwned]}),Object(R.jsxs)(x.a,{pb:2,fontSize:"sm",color:"gray.400",children:["Generates ",D(s.wattsPerDay)," watts per day --"," ",c.colorText]}),Object(R.jsxs)(V.a,{onClick:function(){return t(N(e))},disabled:!E(r,s),children:["Buy for $",D(s.nextPurchaseCost)]})]},e)}))})},Z=function(e){return Object(R.jsx)(b.a,{children:"Let's research some things!"})},_=r(93),ee=r(104),te=r(58),re=function(e){var t=Object(_.b)().toggleColorMode,r=Object(_.c)("dark","light"),a=Object(_.c)(te.a,te.b);return Object(R.jsx)(ee.a,Object(k.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(R.jsx)(a,{}),"aria-label":"Switch to ".concat(r," mode")},e))},ae=function(e){return Object(R.jsxs)(b.a,{children:["Update your settings",Object(R.jsx)(re,{})]})},ne=function(e){return Object(R.jsxs)(q.e,{children:[Object(R.jsxs)(q.b,{children:[Object(R.jsx)(q.a,{children:"Generation"}),Object(R.jsx)(q.a,{children:"Research"}),Object(R.jsx)(q.a,{children:"Achievements"}),Object(R.jsx)(q.a,{children:"Settings"})]}),Object(R.jsxs)(q.d,{children:[Object(R.jsx)(q.c,{children:Object(R.jsx)(X,{})}),Object(R.jsx)(q.c,{children:Object(R.jsx)(Z,{})}),Object(R.jsx)(q.c,{children:Object(R.jsx)(Q,{})}),Object(R.jsx)(q.c,{children:Object(R.jsx)(ae,{})})]})]})},se=Object(G.a)({reducer:{game:U.reducer}}),ce=0;setInterval((function(){se.dispatch(B(ce)),ce=(ce+1)%8}),125);var ie=se,oe=function(){return Object(R.jsx)(l.a,{store:ie,children:Object(R.jsx)(h.a,{theme:j.theme,children:Object(R.jsx)(b.a,{children:Object(R.jsxs)(u.a,{minH:"100vh",direction:"row",alignItems:"stretch",children:[Object(R.jsx)(b.a,{overflow:"auto",w:250,p:3,children:Object(R.jsx)(Y,{})}),Object(R.jsx)(b.a,{children:Object(R.jsx)(d.a,{orientation:"vertical"})}),Object(R.jsx)(b.a,{flexGrow:1,overflow:"auto",children:Object(R.jsx)(ne,{})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(R.jsxs)(c.a.StrictMode,{children:[Object(R.jsx)(n.a,{}),Object(R.jsx)(oe,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.2379eadd.chunk.js.map